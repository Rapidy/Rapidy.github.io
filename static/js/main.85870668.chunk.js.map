{"version":3,"sources":["redux/actions/atmActions.js","components/Keyboard/Keyboard.jsx","components/Modes/Modes.jsx","components/Monitor/Monitor.jsx","App.js","redux/reducers/atmReducer.js","redux/store.js","index.js"],"names":["inputNumber","number","type","payload","Keyboard","dispatch","useDispatch","digits","withdrawMoney","useEffect","document","body","addEventListener","e","includes","key","className","map","item","i","onClick","addNumber","Modes","useState","activeMode","setActiveMode","modesRef","useRef","current","stopImmediatePropagation","console","log","ref","Object","values","amount","mode","setMode","changeMode","Monitor","numbers","useSelector","state","bills","leftover","withdrawedMoney","value","length","readOnly","bill","App","initialState","store","createStore","action","slice","newState","composeWithDevTools","ReactDOM","render","getElementById"],"mappings":"iQAAaA,EAAc,SAACC,GAAD,MAAa,CACtCC,KAAM,aACNC,QAASF,I,eCQI,SAASG,IACtB,IAAMC,EAAWC,cAEXC,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAU3C,SAASC,IACPH,EDX2B,CAC7BH,KAAM,aCWJG,EDhB6B,CAC/BH,KAAM,kBCkCN,OAZAO,qBAAU,WACRC,SAASC,KAAKC,iBAAiB,YAAY,SAAUC,GACnD,GAAIN,EAAOO,SAASD,EAAEE,KACpBV,EAASL,EAAYa,EAAEE,UAClB,IAAc,UAAVF,EAAEE,KAA6B,gBAAVF,EAAEE,IAGhC,OAAO,EAFPP,UAKH,IAGD,0BAASQ,UAAU,WAAnB,UACE,qBAAKA,UAAU,kBAAf,SACGT,EAAOU,KAAI,SAACC,EAAMC,GACjB,OACE,wBAEEC,QAAS,kBApCrB,SAAmBF,GACjBb,EAASL,EAAYkB,IAmCIG,CAAUH,IACzBF,UAAU,qCAHZ,SAIGE,GAHIC,QASb,sBAAKH,UAAU,qBAAf,UACE,yBACEI,QA1CR,WACEf,EDX6B,CAC/BH,KAAM,mBCoDEc,UAAU,uEAFZ,UAGE,yBAHF,sDAKA,yBACEI,QAtCR,WACEf,EDxB+B,CACjCH,KAAM,mBC6DEc,UAAU,uEAFZ,UAGE,yBAHF,gDAKA,yBACEI,QAASZ,EACTQ,UAAU,0EAFZ,UAGE,yBAHF,gD,kBCjEO,SAASM,IACtB,IAyDMjB,EAAWC,cACjB,EAAoCiB,mBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACMC,EAAWC,mBAcjB,OAZAlB,qBAAU,WACRiB,EAASE,QAAQhB,iBAAiB,YAAY,SAAUC,GACtDA,EAAEgB,gCAEH,IACHC,QAAQC,IAAIP,GAQV,qBAAKQ,IAAKN,EAAUV,UAAU,QAA9B,SACGiB,OAAOC,OA3EE,CACZ,EAAG,CACD,CAAEjC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,GAAIkC,OAAQ,MAExB,EAAG,CACD,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,MACxB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,GAAIkC,OAAQ,OAExB,EAAG,CACD,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,GAAIkC,OAAQ,MAExB,EAAG,CACD,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,MACxB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,GAAIkC,OAAQ,MAExB,EAAG,CACD,CAAElC,OAAQ,IAAMkC,OAAQ,MACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,IAAKkC,OAAQ,MACvB,CAAElC,OAAQ,GAAIkC,OAAQ,OAExB,EAAG,CACD,CAAElC,OAAQ,IAAMkC,OAAQ,IACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,GAAIkC,OAAQ,QAsBAlB,KAAI,SAACmB,EAAMjB,GAC/B,OACE,yBAEEH,UAAS,qBAAgBG,IAAMK,EAAa,SAAW,IACvDJ,QAAS,kBAZnB,SAAoBgB,EAAMjB,GACxBd,EF1DmB,SAAC+B,GAAD,MAAW,CAChClC,KAAM,WACNC,QAASiC,GEwDEC,CAAQD,IACjBX,EAAcN,GAUSmB,CAAWF,EAAMjB,IAHlC,UAIGA,EAAI,EAJP,gDACOA,Q,MChFF,SAASoB,IACtB,IAAMC,EAAUC,aAAY,SAACC,GAAD,OAAWA,EAAMF,WACvCG,EAAQF,aAAY,SAACC,GAAD,OAAWA,EAAMC,SACrCC,EAAWH,aAAY,SAACC,GAAD,OAAWA,EAAME,YACxCC,EAAkBJ,aAAY,SAACC,GAAD,OAAWA,EAAMG,mBAErD,OACE,0BAAS7B,UAAU,UAAnB,UACE,sBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,4BAAf,mGAEE,uBACEA,UAAU,mCACV8B,MAAON,EAAQO,OAASP,EAAU,EAClCQ,UAAQ,OAIZ,sBAAKhC,UAAU,yBAAf,mGAEG2B,EAAM1B,KAAI,SAACgC,EAAM9B,GAAP,OACT,qBAAYH,UAAU,+BAAtB,UACE,4BAAIiC,EAAKhD,SADX,KACyBgD,EAAKd,OAD9B,mBAAShB,YAOf,sBAAKH,UAAU,oBAAf,UACE,sBAAKA,UAAU,0BAAf,2IAC4B,4BAAI6B,OAEhC,sBAAK7B,UAAU,0BAAf,0GACoB,4BAAI4B,aClBjBM,MAdf,WACE,OACE,sBAAMlC,UAAU,OAAhB,SACE,sBAAKA,UAAU,iBAAf,UACE,cAACuB,EAAD,IACA,sBAAKvB,UAAU,wBAAf,UACE,cAACZ,EAAD,IACA,cAACkB,EAAD,a,cCZJ6B,EAAe,CACnBX,QAAS,GACTG,MAAO,CACL,CAAE1C,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAMkC,OAAQ,KACxB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,IAAKkC,OAAQ,KACvB,CAAElC,OAAQ,GAAIkC,OAAQ,MAExBS,SAAU,EACVC,gBAAiB,G,WCRbO,EAAQC,uBDWC,WAAmD,IAA/BX,EAA8B,uDAAtBS,EAAcG,EAAQ,uCAC/D,OAAQA,EAAOpD,MACb,IAAK,WACH,MAAO,CACLsC,QAAS,GACTG,MAAOW,EAAOnD,QACdyC,SAAU,EACVC,gBAAiB,GAGrB,IAAK,aACH,OAAO,2BACFH,GADL,IAEEF,QAASE,EAAMF,QAAUc,EAAOnD,UAGpC,IAAK,gBACH,OAAO,2BACFuC,GADL,IAEEF,QAASE,EAAMF,QAAQe,MAAM,GAAI,KAGrC,IAAK,gBACH,OAAO,2BACFb,GADL,IAEEF,QAAS,KAGb,IAAK,WACH,IAAMgB,EAAW,CACfhB,QAASE,EAAMF,QACfG,MAAOD,EAAMC,OAGf,GAAIa,EAAShB,QAAU,EACrB,IAAK,IAAIrB,EAAI,EAAGA,EAAIqC,EAASb,MAAMI,OAAQ5B,IACzC,KAAOqC,EAAShB,QAAUgB,EAASb,MAAMxB,GAAGlB,QAAU,GACnB,IAA7BuD,EAASb,MAAMxB,GAAGgB,QAGpBqB,EAAShB,SAAWgB,EAASb,MAAMxB,GAAGlB,OACtCuD,EAASb,MAAMxB,GAAGgB,QAAU,EAMpC,OAAO,2BACFO,GADL,IAEEE,SAAUY,EAAShB,QACnBG,MAAOa,EAASb,MAChBE,gBAAiBH,EAAMF,QAAUgB,EAAShB,UAI9C,QACE,OAAOE,KCnEyBe,iCAEvBL,ICCfM,IAASC,OAEP,cAAC,IAAD,CAAUP,MAAOA,EAAjB,SACE,cAAC,EAAD,MAGF1C,SAASkD,eAAe,W","file":"static/js/main.85870668.chunk.js","sourcesContent":["export const inputNumber = (number) => ({\r\n  type: 'ADD_NUMBER',\r\n  payload: number,\r\n});\r\n\r\nexport const removeNumber = () => ({\r\n  type: 'REMOVE_NUMBER',\r\n});\r\n\r\nexport const clearInput = () => ({\r\n  type: 'CLEAR_NUMBERS',\r\n});\r\n\r\nexport const withdraw = () => ({\r\n  type: 'WITHDRAW',\r\n});\r\n\r\nexport const setMode = (mode) => ({\r\n  type: 'SET_MODE',\r\n  payload: mode,\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  inputNumber,\r\n  clearInput,\r\n  withdraw,\r\n  removeNumber,\r\n} from '../../redux/actions/atmActions';\r\nimport './keyboard.sass';\r\n\r\nexport default function Keyboard() {\r\n  const dispatch = useDispatch();\r\n\r\n  const digits = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];\r\n\r\n  function addNumber(item) {\r\n    dispatch(inputNumber(item));\r\n  }\r\n\r\n  function clearNumbers() {\r\n    dispatch(clearInput());\r\n  }\r\n\r\n  function withdrawMoney() {\r\n    dispatch(withdraw());\r\n    dispatch(clearInput());\r\n  }\r\n\r\n  function deleteNumber() {\r\n    dispatch(removeNumber());\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.body.addEventListener('keypress', function (e) {\r\n      if (digits.includes(e.key)) {\r\n        dispatch(inputNumber(e.key));\r\n      } else if (e.key === 'Enter' || e.key === 'NumpadEnter') {\r\n        withdrawMoney();\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <section className='keyboard'>\r\n      <div className='keyboard-digits'>\r\n        {digits.map((item, i) => {\r\n          return (\r\n            <button\r\n              key={i}\r\n              onClick={() => addNumber(item)}\r\n              className='keyboard__btn keyboard-digits__btn'>\r\n              {item}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className='keyboard-functions'>\r\n        <button\r\n          onClick={clearNumbers}\r\n          className='keyboard__btn keyboard-functions__btn keyboard-functions__btn--clear'>\r\n          <span></span>Очистить\r\n        </button>\r\n        <button\r\n          onClick={deleteNumber}\r\n          className='keyboard__btn keyboard-functions__btn keyboard-functions__btn--erase'>\r\n          <span></span>Стереть\r\n        </button>\r\n        <button\r\n          onClick={withdrawMoney}\r\n          className='keyboard__btn keyboard-functions__btn keyboard-functions__btn--withdraw'>\r\n          <span></span>Выдача\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport './modes.sass';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setMode } from '../../redux/actions/atmActions';\r\n\r\nexport default function Modes() {\r\n  const modes = {\r\n    1: [\r\n      { number: 5000, amount: 100 },\r\n      { number: 2000, amount: 400 },\r\n      { number: 1000, amount: 1000 },\r\n      { number: 500, amount: 3000 },\r\n      { number: 200, amount: 5000 },\r\n      { number: 100, amount: 8000 },\r\n      { number: 50, amount: 10000 },\r\n    ],\r\n    2: [\r\n      { number: 5000, amount: 476 },\r\n      { number: 2000, amount: 345 },\r\n      { number: 1000, amount: 6741 },\r\n      { number: 500, amount: 4362 },\r\n      { number: 200, amount: 234 },\r\n      { number: 100, amount: 1643 },\r\n      { number: 50, amount: 3450 },\r\n    ],\r\n    3: [\r\n      { number: 5000, amount: 234 },\r\n      { number: 2000, amount: 678 },\r\n      { number: 1000, amount: 845 },\r\n      { number: 500, amount: 2451 },\r\n      { number: 200, amount: 9654 },\r\n      { number: 100, amount: 2345 },\r\n      { number: 50, amount: 234 },\r\n    ],\r\n    4: [\r\n      { number: 5000, amount: 546 },\r\n      { number: 2000, amount: 562 },\r\n      { number: 1000, amount: 2543 },\r\n      { number: 500, amount: 4365 },\r\n      { number: 200, amount: 2154 },\r\n      { number: 100, amount: 124 },\r\n      { number: 50, amount: 342 },\r\n    ],\r\n    5: [\r\n      { number: 5000, amount: 2732 },\r\n      { number: 2000, amount: 347 },\r\n      { number: 1000, amount: 479 },\r\n      { number: 500, amount: 7556 },\r\n      { number: 200, amount: 3296 },\r\n      { number: 100, amount: 1257 },\r\n      { number: 50, amount: 3854 },\r\n    ],\r\n    6: [\r\n      { number: 5000, amount: 73 },\r\n      { number: 2000, amount: 147 },\r\n      { number: 1000, amount: 279 },\r\n      { number: 500, amount: 356 },\r\n      { number: 200, amount: 696 },\r\n      { number: 100, amount: 857 },\r\n      { number: 50, amount: 854 },\r\n    ],\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n  const [activeMode, setActiveMode] = useState(0);\r\n  const modesRef = useRef();\r\n\r\n  useEffect(() => {\r\n    modesRef.current.addEventListener('keypress', function (e) {\r\n      e.stopImmediatePropagation();\r\n    });\r\n  }, []);\r\n  console.log(activeMode);\r\n\r\n  function changeMode(mode, i) {\r\n    dispatch(setMode(mode));\r\n    setActiveMode(i);\r\n  }\r\n\r\n  return (\r\n    <div ref={modesRef} className='modes'>\r\n      {Object.values(modes).map((mode, i) => {\r\n        return (\r\n          <button\r\n            key={i}\r\n            className={`modes__btn ${i === activeMode ? 'active' : ''}`}\r\n            onClick={() => changeMode(mode, i)}>\r\n            {i + 1} вариант\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './monitor.sass';\r\n\r\nexport default function Monitor() {\r\n  const numbers = useSelector((state) => state.numbers);\r\n  const bills = useSelector((state) => state.bills);\r\n  const leftover = useSelector((state) => state.leftover);\r\n  const withdrawedMoney = useSelector((state) => state.withdrawedMoney);\r\n\r\n  return (\r\n    <section className='monitor'>\r\n      <div className='monitor-container'>\r\n        <div className='monitor-container-numbers'>\r\n          Введенная сумма:\r\n          <input\r\n            className='monitor-container-numbers__input'\r\n            value={numbers.length ? numbers : 0}\r\n            readOnly\r\n          />\r\n        </div>\r\n\r\n        <div className='monitor-container-info'>\r\n          Состояние купюр:\r\n          {bills.map((bill, i) => (\r\n            <li key={i} className='monitor-container-info__item'>\r\n              <b>{bill.number}</b> ({bill.amount} шт)\r\n            </li>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className='monitor-container'>\r\n        <div className='monitor-container__item'>\r\n          Вы вывели денег на сумму: <b>{withdrawedMoney}</b>\r\n        </div>\r\n        <div className='monitor-container__item'>\r\n          Остаток от снятия <b>{leftover}</b>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import './App.sass';\nimport Keyboard from './components/Keyboard/Keyboard';\nimport Modes from './components/Modes/Modes';\nimport Monitor from './components/Monitor/Monitor';\n\nfunction App() {\n  return (\n    <main className='main'>\n      <div className='main-container'>\n        <Monitor />\n        <div className='main-container-bottom'>\n          <Keyboard />\n          <Modes />\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n  numbers: '',\r\n  bills: [\r\n    { number: 5000, amount: 100 },\r\n    { number: 2000, amount: 400 },\r\n    { number: 1000, amount: 1000 },\r\n    { number: 500, amount: 3000 },\r\n    { number: 200, amount: 5000 },\r\n    { number: 100, amount: 8000 },\r\n    { number: 50, amount: 10000 },\r\n  ],\r\n  leftover: 0,\r\n  withdrawedMoney: 0,\r\n};\r\n\r\nexport default function atmRecuder(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'SET_MODE':\r\n      return {\r\n        numbers: '',\r\n        bills: action.payload,\r\n        leftover: 0,\r\n        withdrawedMoney: 0,\r\n      };\r\n\r\n    case 'ADD_NUMBER':\r\n      return {\r\n        ...state,\r\n        numbers: state.numbers + action.payload,\r\n      };\r\n\r\n    case 'REMOVE_NUMBER':\r\n      return {\r\n        ...state,\r\n        numbers: state.numbers.slice(0, -1),\r\n      };\r\n\r\n    case 'CLEAR_NUMBERS':\r\n      return {\r\n        ...state,\r\n        numbers: '',\r\n      };\r\n\r\n    case 'WITHDRAW': {\r\n      const newState = {\r\n        numbers: state.numbers,\r\n        bills: state.bills,\r\n      };\r\n\r\n      if (newState.numbers > 0) {\r\n        for (let i = 0; i < newState.bills.length; i++) {\r\n          while (newState.numbers - newState.bills[i].number >= 0) {\r\n            if (newState.bills[i].amount === 0) {\r\n              break;\r\n            } else {\r\n              newState.numbers -= newState.bills[i].number;\r\n              newState.bills[i].amount -= 1;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        leftover: newState.numbers,\r\n        bills: newState.bills,\r\n        withdrawedMoney: state.numbers - newState.numbers,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport atmRecuder from './reducers/atmReducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore(atmRecuder, composeWithDevTools());\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}