(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{20:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(15),i=c.n(a),s=(c(20),c(2)),r=c(4),o=c.n(r),d=(c(40),c(41),c(0));function j(e){var t=e.activeTempType,c=e.wind,a=e.pressure,i=e.humidity,r=function(){return c.deg>=330||c.deg<=40?"\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439":c.deg>=240?"\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439":c.deg>=40||c.deg<=110?"\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439":"\u044e\u0436\u043d\u044b\u0439"};Object(n.useEffect)((function(){r()}),[c.deg]),Object(n.useEffect)((function(){h(t)}),[t]);var o=Object(n.useState)(t),j=Object(s.a)(o,2),l=j[0],h=j[1],b="metric"===l?"\u043c/c":"\u043c\u0438\u043b\u044c/\u0447",u=r(),m=a/133.3224*100;return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsxs)("div",{className:"footer-container",children:[Object(d.jsxs)("div",{className:"footer-container__item",children:[Object(d.jsx)("h3",{children:"\u0412\u0435\u0442\u0435\u0440"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:c.speed.toFixed()})," ",b,", ",u]})]}),Object(d.jsxs)("div",{className:"footer-container__item",children:[Object(d.jsx)("h3",{children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:m.toFixed()})," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]})]}),Object(d.jsxs)("div",{className:"footer-container",children:[Object(d.jsxs)("div",{className:"footer-container__item",children:[Object(d.jsx)("h3",{children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:i}),"%"]})]}),Object(d.jsxs)("div",{className:"footer-container__item",children:[Object(d.jsx)("h3",{children:"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"10"}),"%"]})]})]})]})}c(43);var l=c.p+"static/media/location.2dfb72ad.svg";function h(e){var t=e.name,c=e.onSetMyPosition,a=e.onChangeCity,i=Object(n.useState)(!1),r=Object(s.a)(i,2),j=r[0],h=r[1],b=Object(n.useState)(""),u=Object(s.a)(b,2),m=u[0],p=u[1],O=Object(n.useState)([]),f=Object(s.a)(O,2),x=f[0],g=f[1];Object(n.useEffect)((function(){o.a.get("https://rapidy.github.io/cities.json").then((function(e){return g(e.data.cities)}))}),[]);var v=x.map((function(e){return Object(d.jsx)("option",{value:e.name,children:e.name},e.name)}));return Object(d.jsxs)("div",{className:"header-city",children:[Object(d.jsx)("h2",{className:"header-city__name",children:t}),Object(d.jsxs)("div",{className:"header-city-btns ".concat(j?"hide":""),children:[Object(d.jsx)("button",{onClick:function(){h(!0),p("")},className:"header-city-btns__btn",children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"}),Object(d.jsxs)("button",{onClick:c,className:"header-city-btns__btn",children:[Object(d.jsx)("img",{src:l,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),"\u041c\u043e\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"]})]}),Object(d.jsxs)("div",{className:"header-city-change ".concat(j?"show":""),children:[Object(d.jsx)("input",{onChange:function(e){return p(e.target.value)},value:m,type:"text",className:"header-city-change__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",list:"cities"}),Object(d.jsx)("datalist",{className:"header-city-change__datalist",id:"cities",children:v}),Object(d.jsx)("button",{onClick:function(){h(!1);var e=x.filter((function(e){return e.name===m})).shift();m&&a(e.coords)},className:"header-city-change__btn",children:"\u041e\u041a"})]})]})}function b(e){var t=e.activeTempType,c=e.onTempTypeChange;return Object(d.jsxs)("div",{className:"header-temp",children:[Object(d.jsx)("button",{id:"1",onClick:c,className:"header-temp__btn ".concat("metric"===t?"active":""),children:"C"}),Object(d.jsx)("button",{id:"2",onClick:c,className:"header-temp__btn ".concat("imperial"===t?"active":""),children:"F"})]})}function u(e){var t=e.name,c=e.activeTempType,n=e.onTempTypeChange,a=e.onSetMyPosition,i=e.onChangeCity;return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)(h,{name:t,onSetMyPosition:a,onChangeCity:i}),Object(d.jsx)(b,{activeTempType:c,onTempTypeChange:n})]})}var m=c.p+"static/media/sun.5f4a8e48.svg",p=c.p+"static/media/storm.8596a268.svg",O=c.p+"static/media/cloud.537bf324.svg",f=c.p+"static/media/rain.0b103200.svg",x=c.p+"static/media/partly cloudy.bd05e8ee.svg";function g(e){var t=e.temp,c=e.descr,a=e.weatherId,i=c[0].toUpperCase()+c.slice(1,c.length),r=Object(n.useState)(""),o=Object(s.a)(r,2),j=o[0],l=o[1];return Object(n.useEffect)((function(){l(a>=200&&a<300?p:a>=300&&a<600?f:800===a?m:a<803?x:O)}),[a]),Object(d.jsxs)("main",{className:"weather",children:[Object(d.jsxs)("h1",{children:[Object(d.jsx)("img",{src:j,alt:"Weather icon"}),+t.toFixed(),"\xba"]}),Object(d.jsx)("span",{children:i})]})}function v(){return Object(d.jsx)("div",{className:"app__preloader",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u0433\u043e\u0434\u044b..."})}var y=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)("clear"),r=Object(s.a)(i,2),l=r[0],h=r[1],b=Object(n.useState)(!1),m=Object(s.a)(b,2),p=m[0],O=m[1],f=Object(n.useState)("metric"),x=Object(s.a)(f,2),y=x[0],_=x[1],N=Object(n.useState)({lat:54.9924,long:73.3686}),C=Object(s.a)(N,2),T=C[0],w=C[1],S=function(){if(p){var e=c.weather[0].id>=300&&c.weather[0].id<=600?"rain":"clear";h(e)}},k="https://api.openweathermap.org/data/2.5/weather?lat=".concat(T.lat,"&lon=").concat(T.long,"&appid=50593473d5676fb8352c434138876ed0&lang=ru&units=").concat(y);return Object(n.useEffect)((function(){o.a.get(k).then((function(e){return a(e.data)})).then((function(){O(!0),S()}))}),[]),Object(n.useEffect)((function(){o.a.get(k).then((function(e){return a(e.data)})).then((function(){return S()}))}),[y,T]),Object(d.jsx)("div",{className:"app ".concat("rain"===l?"rain":"clear"),children:p?Object(d.jsxs)("div",{className:"app-container",children:[Object(d.jsx)(u,{name:c.name,activeTempType:y,onTempTypeChange:function(e){"1"===e.target.id?_("metric"):_("imperial")},onSetMyPosition:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){w({lat:e.coords.latitude,long:e.coords.longitude})})):alert("\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0433\u0435\u043e-\u043b\u043e\u043a\u0430\u0446\u0438\u044e")},onChangeCity:function(e){w({lat:e[0],long:e[1]})}}),Object(d.jsx)(g,{temp:c.main.temp,descr:c.weather[0].description,weatherId:c.weather[0].id}),Object(d.jsx)(j,{activeTempType:y,wind:c.wind,pressure:c.main.pressure,humidity:c.main.humidity})]}):Object(d.jsx)(v,{})})};i.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d2f05449.chunk.js.map